{"version":3,"sources":["ts/libs/riot.js"],"names":["riot","observable","el","callbacks","slice","on","events","fn","replace","name","pos","push","typed","off","arr","i","cb","splice","one","trigger","args","call","arguments","fns","busy","apply","concat","FN","template_escape","render_escape","default_escape_fn","str","key","char","render","tmpl","data","escape_fn","Function","window","currentHash","pops","listen","addEventListener","doc","document","pop","hash","type","location","attachEvent","readyState","route","to","history","pushState","exports","self"],"mappings":"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","file":"riot.82316cf3.js","sourceRoot":"..","sourcesContent":["/* Riot 1.0.2, @license MIT, (c) 2014 Muut Inc + contributors */\n(function(riot) { \"use strict\";\n\nriot.observable = function(el) {\n  var callbacks = {}, slice = [].slice;\n\n  el.on = function(events, fn) {\n    if (typeof fn === \"function\") {\n      events.replace(/[^\\s]+/g, function(name, pos) {\n        (callbacks[name] = callbacks[name] || []).push(fn);\n        fn.typed = pos > 0;\n      });\n    }\n    return el;\n  };\n\n  el.off = function(events, fn) {\n    if (events === \"*\") callbacks = {};\n    else if (fn) {\n      var arr = callbacks[events];\n      for (var i = 0, cb; (cb = arr && arr[i]); ++i) {\n        if (cb === fn) arr.splice(i, 1);\n      }\n    } else {\n      events.replace(/[^\\s]+/g, function(name) {\n        callbacks[name] = [];\n      });\n    }\n    return el;\n  };\n\n  // only single event supported\n  el.one = function(name, fn) {\n    if (fn) fn.one = true;\n    return el.on(name, fn);\n  };\n\n  el.trigger = function(name) {\n    var args = slice.call(arguments, 1),\n      fns = callbacks[name] || [];\n\n    for (var i = 0, fn; (fn = fns[i]); ++i) {\n      if (!fn.busy) {\n        fn.busy = true;\n        fn.apply(el, fn.typed ? [name].concat(args) : args);\n        if (fn.one) { fns.splice(i, 1); i--; }\n        else if(fns[i] && fns[i] !== fn) { i-- } // Makes self-removal possible during iteration\n        fn.busy = false;\n      }\n    }\n\n    return el;\n  };\n\n  return el;\n};\n\nvar FN = {}, // Precompiled templates (JavaScript functions)\n  template_escape = {\"\\\\\": \"\\\\\\\\\", \"\\n\": \"\\\\n\", \"\\r\": \"\\\\r\", \"'\": \"\\\\'\"},\n  render_escape = {'&': '&amp;', '\"': '&quot;', '<': '&lt;', '>': '&gt;'};\n\nfunction default_escape_fn(str, key) {\n  return str == null ? '' : (str+'').replace(/[&\\\"<>]/g, function(char) {\n    return render_escape[char];\n  });\n}\n\nriot.render = function(tmpl, data, escape_fn) {\n  if (escape_fn === true) escape_fn = default_escape_fn;\n  tmpl = tmpl || '';\n\n  return (FN[tmpl] = FN[tmpl] || new Function(\"_\", \"e\", \"return '\" +\n    tmpl.replace(/[\\\\\\n\\r']/g, function(char) {\n      return template_escape[char];\n    }).replace(/{\\s*([\\w\\.]+)\\s*}/g, \"' + (e?e(_.$1,'$1'):_.$1||(_.$1==null?'':_.$1)) + '\") + \"'\")\n  )(data, escape_fn);\n};\n/* Cross browser popstate */\n(function () {\n  // for browsers only\n  if (typeof window === \"undefined\") return;\n\n  var currentHash,\n    pops = riot.observable({}),\n    listen = window.addEventListener,\n    doc = document;\n\n  function pop(hash) {\n    hash = hash.type ? location.hash : hash;\n    if (hash !== currentHash) pops.trigger(\"pop\", hash);\n    currentHash = hash;\n  }\n\n  /* Always fire pop event upon page load (normalize behaviour across browsers) */\n\n  // standard browsers\n  if (listen) {\n    listen(\"popstate\", pop, false);\n    doc.addEventListener(\"DOMContentLoaded\", pop, false);\n\n  // IE\n  } else {\n    doc.attachEvent(\"onreadystatechange\", function() {\n      if (doc.readyState === \"complete\") pop(\"\");\n    });\n  }\n\n  /* Change the browser URL or listen to changes on the URL */\n  riot.route = function(to) {\n    // listen\n    if (typeof to === \"function\") return pops.on(\"pop\", to);\n\n    // fire\n    if (history.pushState) history.pushState(0, 0, to);\n    pop(to);\n\n  };\n})();\n})(typeof window !== \"undefined\" ? window.riot = {} : (typeof exports !== \"undefined\" ? exports :Â self.riot = {}));\n"]}